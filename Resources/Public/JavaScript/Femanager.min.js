document.addEventListener("DOMContentLoaded",function(){var e;function t(e){return(e+="").charAt(0).toLowerCase()+e.substr(1)}e=null!=document.querySelector(".tx-femanager[data-labels]")?JSON.parse(document.querySelector(".tx-femanager[data-labels]").dataset.labels):[],initFemanagerValidation(),document.querySelectorAll("*[data-confirm]").forEach(function(e){e.addEventListener("click",function(t){var n=e.getAttribute("data-confirm");confirm(n)||t.preventDefault()})}),document.querySelectorAll("[data-data-endpoint]").forEach(function(n){var a=function(a){var o={"tx_femanager_data[action]":n.dataset.dataEndpoint,"tx_femanager_data[controller]":"Data"},arguments=JSON.parse(JSON.stringify(n.dataset));for(var r in arguments)if(arguments.hasOwnProperty(r)&&r.match("arguments")){var i=document.getElementById(arguments[r]);if(i)o["tx_femanager_data["+t(r.substr(9))+"]"]=i.value}var d=document.getElementById("femanagerPid"),l=Femanager.getBaseUrl()+"index.php?id="+(d?d.value:"")+"&type=1594138042",s=n.dataset.selectedValue;fetch(l,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:new URLSearchParams(o),cache:"no-cache"}).then(function(e){if(!e.ok)throw new Error("Network response was not ok");return e.json()}).then(function(t){for(var a in n.disabled=!0,n.options.length=0,""===s||t.hasOwnProperty(s)||(n.options[n.options.length]=new Option(e.please_choose)),t)if(t.hasOwnProperty(a)){var o=a===s;n.options[n.options.length]=new Option(t[a],a,o,o),n.disabled=!1}}).catch(function(e){console.log("Error: The called url is not available - if you use TYPO3 in a subfolder, please use config.baseURL in TypoScript")}),n.disabled=!0,n.options.length=0,n.options[0]=new Option(e.loading_states)},o=n.dataset.triggerFields;void 0!==o?o.split(",").forEach(function(e){var t=document.getElementById(e);void 0!==t&&t.addEventListener("change",a)}):n.addEventListener("change",a),a()})}),window.Femanager={},window.Femanager.getBaseUrl=function(){var e,t=document.querySelector("base");if(t)e=t.href;else if(-1!==window.location.hostname.indexOf("localhost"))e="";else{var n="";window.location.port.length>0&&(n=":"+window.location.port),e="https:"!==window.location.protocol?"http://"+window.location.hostname+n+"/":"https://"+window.location.hostname+n+"/"}return e};